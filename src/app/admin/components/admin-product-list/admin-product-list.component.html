<div class="admin-product-list">

  <div class="loading-state" *ngIf="loading">
    <p>Cargando productos...</p>
  </div>

  <div class="products-table" *ngIf="!loading && products.length > 0">
    <table>
      <thead>
        <tr>
          <th>Imagen</th>
          <th>SKU</th>
          <th>Nombre</th>
          <th>Precio</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products">
          <td>
            <img [src]="product.images?.[0]?.url || '/assets/placeholder.jpg'" 
                 [alt]="product.name"
                 class="product-thumbnail">
          </td>
          <td>{{ product.sku }}</td>
          <td>{{ product.name }}</td>
          <td>${{ product.price }}</td>
          <td>
            <span class="status-badge" 
                  [class.active]="product.isActive" 
                  [class.inactive]="!product.isActive">
              {{ product.isActive ? 'Activo' : 'Inactivo' }}
            </span>
          </td>
          <td class="actions">
            <button class="btn-edit" (click)="onEdit(product)" title="Editar">
              <i class="fa-regular fa-pen-to-square"></i>
            </button>
            <button class="btn-toggle" (click)="onToggle(product)" [title]="product.isActive ? 'Desactivar' : 'Activar'">
              <i class="fa-regular fa-moon"></i>
            </button>
            <button class="btn-delete" (click)="onDelete(product)" title="Eliminar">
              <i class="fa-solid fa-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="empty-state" *ngIf="!loading && products.length === 0">
    <p>No hay productos registrados</p>
    <button class="btn-primary" routerLink="/admin/products/new">
      Crear primer producto
    </button>
  </div>
</div>
